(function(a){function d(a,b){if(a.val()===""){a.data("placeholder").removeClass(b.hideClass)}else{a.data("placeholder").addClass(b.hideClass)}}function e(a,b){a.data("placeholder").addClass(b.hideClass)}function f(a,b){var c=b.is("textarea");var d=b.offset();if(b.css("padding")&&b.css("padding")!=="0px"){var e=b.css("padding").split(" ");d.top+=Number(e[0].replace("px",""));d.left+=Number(e[e.length-1].replace("px",""))}else{if(b.css("padding-top")&&b.css("padding-top")!=="0px"){d.top+=Number(b.css("padding-top").replace("px",""))}if(b.css("padding-left")&&b.css("padding-left")!=="0px"){d.left+=Number(b.css("padding-left").replace("px",""))}}a.css({width:b.innerWidth()-(c?20:4),height:b.innerHeight()-6,lineHeight:b.css("line-height"),whiteSpace:c?"normal":"nowrap",overflow:"hidden"}).offset(d)}function g(a,b){var d=a.val();(function f(){c=requestAnimationFrame(f);if(a.val()!==d){e(a,b);i();h(a,b)}})()}function h(a,b){(function e(){c=requestAnimationFrame(e);d(a,b)})()}function i(){cancelAnimationFrame(c)}function j(a){if(b&&window.console&&window.console.log){window.console.log(a)}}var b=false,c;a.fn.placeHolder=function(b){j("init placeHolder");var c=this;var h=a(this).length;this.options=a.extend({className:"placeholder",visibleToScreenreaders:true,visibleToScreenreadersHideClass:"placeholder-hide-except-screenreader",visibleToNoneHideClass:"placeholder-hide",hideOnFocus:false,removeLabelClass:"visuallyhidden",hiddenOverrideClass:"visuallyhidden-with-placeholder",forceHiddenOverride:true,forceApply:false,autoInit:true},b);this.options.hideClass=this.options.visibleToScreenreaders?this.options.visibleToScreenreadersHideClass:this.options.visibleToNoneHideClass;return a(this).each(function(b){var k=a(this),m=k.attr("placeholder"),n=k.attr("id"),p,q,r,s;p=k.closest("label");k.removeAttr("placeholder");if(!p.length&&!n){j("the input element with the placeholder needs an id!");return}p=p.length?p:a('label[for="'+n+'"]').first();if(!p.length){j("the input element with the placeholder needs a label!");return}s=a(p).find(".placeholder");if(s.length){f(s,k);s.text(m);return k}if(p.hasClass(c.options.removeLabelClass)){p.removeClass(c.options.removeLabelClass).addClass(c.options.hiddenOverrideClass)}q=a("<span>").addClass(c.options.className).text(m).appendTo(p);r=q.width()>k.width();if(r){q.attr("title",m)}f(q,k);k.data("placeholder",q);q.data("input",q);q.click(function(){a(this).data("input").focus()});k.focusin(function(){if(!c.options.hideOnFocus&&window.requestAnimationFrame){g(k,c.options)}else{e(k,c.options)}});k.focusout(function(){d(a(this),c.options);if(!c.options.hideOnFocus&&window.cancelAnimationFrame){i()}});d(k,c.options);a(document).bind("fontresize resize",function(){f(q,k)});if(a.event.special.resize){a("textarea").bind("resize",function(a){f(q,k)})}else{a("textarea").css("resize","none")}if(b>=h-1){a.attrHooks.placeholder={get:function(b){if(b.nodeName.toLowerCase()==="input"||b.nodeName.toLowerCase()==="textarea"){if(a(b).data("placeholder")){return a(a(b).data("placeholder")).text()}else{return a(b)[0].placeholder}}else{return undefined}},set:function(b,c){return a(a(b).data("placeholder")).text(c)}}}})};a(function(){var b=window.placeHolderConfig||{};if(b.autoInit===false){j("placeholder:abort because autoInit is off");return}if(("placeholder"in a("<input>")[0]||"placeHolder"in a("<input>")[0])&&!b.forceApply){j("placeholder:abort because browser has native support");return}a("input[placeholder], textarea[placeholder]").placeHolder(b)})})(jQuery)